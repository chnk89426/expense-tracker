<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Expense Tracker</title>
  <script crossorigin src="https://cdnjs.cloudflare.com/ajax/libs/react/18.2.0/umd/react.production.min.js"></script>
  <script crossorigin src="https://cdnjs.cloudflare.com/ajax/libs/react-dom/18.2.0/umd/react-dom.production.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/babel-standalone/7.23.5/babel.min.js"></script>
  <style>
    * { box-sizing: border-box; }
    body { margin: 0; padding: 0; font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', sans-serif; }
  </style>
</head>
<body>
  <div id="root"></div>

  <script type="text/babel">
    const { useState } = React;

    // Icon components
    const DollarSign = () => <span style={{fontSize: '24px'}}>üíµ</span>;
    const TrendingUp = () => <span style={{fontSize: '20px'}}>üìà</span>;
    const TrendingDown = () => <span style={{fontSize: '20px'}}>üìâ</span>;
    const Calendar = () => <span style={{fontSize: '14px'}}>üìÖ</span>;
    const Tag = () => <span style={{fontSize: '18px'}}>üè∑Ô∏è</span>;
    const Trash = () => <span style={{fontSize: '18px', cursor: 'pointer'}}>üóëÔ∏è</span>;
    const PieChart = () => <span style={{fontSize: '20px'}}>üìä</span>;

    // Expense Item Component
    function ExpenseItem({ expense, onDelete }) {
      const getCategoryColor = (category) => {
        const colors = {
          Food: { bg: '#fed7aa', text: '#c2410c', border: '#fdba74' },
          Transport: { bg: '#bfdbfe', text: '#1e40af', border: '#93c5fd' },
          Entertainment: { bg: '#e9d5ff', text: '#7e22ce', border: '#d8b4fe' },
          Shopping: { bg: '#fbcfe8', text: '#be185d', border: '#f9a8d4' },
          Bills: { bg: '#fecaca', text: '#b91c1c', border: '#fca5a5' },
          Other: { bg: '#e5e7eb', text: '#374151', border: '#d1d5db' }
        };
        return colors[category] || colors.Other;
      };

      const color = getCategoryColor(expense.category);

      return (
        <div style={{
          display: 'flex',
          alignItems: 'center',
          justifyContent: 'space-between',
          padding: '16px',
          backgroundColor: 'white',
          borderRadius: '8px',
          border: '2px solid #e5e7eb',
          marginBottom: '12px'
        }}>
          <div style={{ display: 'flex', alignItems: 'center', gap: '16px', flex: 1 }}>
            <div style={{
              width: '48px',
              height: '48px',
              backgroundColor: '#e0e7ff',
              borderRadius: '50%',
              display: 'flex',
              alignItems: 'center',
              justifyContent: 'center'
            }}>
              <DollarSign />
            </div>
            <div style={{ flex: 1 }}>
              <p style={{ fontWeight: '600', color: '#1f2937', margin: 0 }}>{expense.description}</p>
              <div style={{ display: 'flex', alignItems: 'center', gap: '12px', marginTop: '4px' }}>
                <span style={{
                  fontSize: '12px',
                  padding: '4px 8px',
                  borderRadius: '12px',
                  backgroundColor: color.bg,
                  color: color.text,
                  border: `1px solid ${color.border}`
                }}>
                  {expense.category}
                </span>
                <span style={{ fontSize: '12px', color: '#6b7280', display: 'flex', alignItems: 'center', gap: '4px' }}>
                  <Calendar />
                  {expense.date}
                </span>
              </div>
            </div>
          </div>
          <div style={{ display: 'flex', alignItems: 'center', gap: '16px' }}>
            <p style={{ fontSize: '20px', fontWeight: 'bold', color: '#1f2937', margin: 0 }}>
              ${expense.amount.toFixed(2)}
            </p>
            <button
              onClick={() => onDelete(expense.id)}
              style={{
                background: 'none',
                border: 'none',
                cursor: 'pointer',
                color: '#ef4444'
              }}
            >
              <Trash />
            </button>
          </div>
        </div>
      );
    }

    // Category Card Component
    function CategoryCard({ category, amount, total }) {
      const percentage = total > 0 ? ((amount / total) * 100).toFixed(1) : 0;
      
      return (
        <div style={{
          backgroundColor: 'white',
          borderRadius: '12px',
          boxShadow: '0 4px 6px rgba(0,0,0,0.1)',
          padding: '16px'
        }}>
          <div style={{ display: 'flex', alignItems: 'center', gap: '12px', marginBottom: '8px' }}>
            <Tag />
            <p style={{ fontSize: '14px', fontWeight: '500', color: '#4b5563', margin: 0 }}>{category}</p>
          </div>
          <p style={{ fontSize: '24px', fontWeight: 'bold', color: '#1f2937', margin: '8px 0' }}>
            ${amount.toFixed(2)}
          </p>
          <div style={{
            marginTop: '8px',
            backgroundColor: '#e5e7eb',
            borderRadius: '12px',
            height: '8px',
            overflow: 'hidden'
          }}>
            <div style={{
              backgroundColor: '#4f46e5',
              height: '8px',
              borderRadius: '12px',
              width: `${percentage}%`,
              transition: 'width 0.5s'
            }}></div>
          </div>
          <p style={{ fontSize: '12px', color: '#6b7280', marginTop: '4px' }}>{percentage}% of total</p>
        </div>
      );
    }

    // Main App
    function ExpenseTracker() {
      const [expenses, setExpenses] = useState([
        { id: 1, description: 'Grocery Shopping', amount: 85.50, category: 'Food', date: '2026-01-05' },
        { id: 2, description: 'Uber to Office', amount: 12.00, category: 'Transport', date: '2026-01-04' },
        { id: 3, description: 'Netflix Subscription', amount: 15.99, category: 'Entertainment', date: '2026-01-03' },
        { id: 4, description: 'New Headphones', amount: 79.99, category: 'Shopping', date: '2026-01-02' }
      ]);

      const [description, setDescription] = useState('');
      const [amount, setAmount] = useState('');
      const [category, setCategory] = useState('Food');
      const [date, setDate] = useState(new Date().toISOString().split('T')[0]);
      const [filterCategory, setFilterCategory] = useState('All');

      const categories = ['Food', 'Transport', 'Entertainment', 'Shopping', 'Bills', 'Other'];

      const addExpense = () => {
        if (!description || !amount || parseFloat(amount) <= 0) {
          alert('Please enter valid description and amount');
          return;
        }

        const newExpense = {
          id: Date.now(),
          description: description,
          amount: parseFloat(amount),
          category: category,
          date: date
        };

        setExpenses([newExpense, ...expenses]);
        setDescription('');
        setAmount('');
        setCategory('Food');
        setDate(new Date().toISOString().split('T')[0]);
      };

      const deleteExpense = (id) => {
        setExpenses(expenses.filter(exp => exp.id !== id));
      };

      const totalExpenses = expenses.reduce((sum, exp) => sum + exp.amount, 0);
      
      const categoryTotals = categories.reduce((acc, cat) => {
        acc[cat] = expenses
          .filter(exp => exp.category === cat)
          .reduce((sum, exp) => sum + exp.amount, 0);
        return acc;
      }, {});

      const filteredExpenses = filterCategory === 'All' 
        ? expenses 
        : expenses.filter(exp => exp.category === filterCategory);

      const highestCategory = Object.entries(categoryTotals)
        .sort((a, b) => b[1] - a[1])[0];

      return (
        <div style={{
          minHeight: '100vh',
          background: 'linear-gradient(135deg, #e0e7ff 0%, #ede9fe 50%, #fce7f3 100%)',
          padding: '24px'
        }}>
          <div style={{ maxWidth: '1200px', margin: '0 auto' }}>
            
            <div style={{
              backgroundColor: 'white',
              borderRadius: '16px',
              boxShadow: '0 10px 15px rgba(0,0,0,0.1)',
              padding: '24px',
              marginBottom: '24px'
            }}>
              <h1 style={{ fontSize: '36px', fontWeight: 'bold', color: '#1f2937', margin: '0 0 8px 0' }}>
                üí∞ Expense Tracker
              </h1>
              <p style={{ color: '#6b7280', margin: 0 }}>Deployed on Vercel! üöÄ</p>
            </div>

            <div style={{
              display: 'grid',
              gridTemplateColumns: 'repeat(auto-fit, minmax(250px, 1fr))',
              gap: '24px',
              marginBottom: '24px'
            }}>
              <div style={{
                background: 'linear-gradient(135deg, #4f46e5 0%, #7c3aed 100%)',
                borderRadius: '16px',
                boxShadow: '0 10px 15px rgba(0,0,0,0.1)',
                padding: '24px',
                color: 'white'
              }}>
                <div style={{ display: 'flex', justifyContent: 'space-between', alignItems: 'center', marginBottom: '8px' }}>
                  <p style={{ fontSize: '14px', margin: 0, opacity: 0.9 }}>Total Expenses</p>
                  <TrendingDown />
                </div>
                <p style={{ fontSize: '36px', fontWeight: 'bold', margin: 0 }}>${totalExpenses.toFixed(2)}</p>
                <p style={{ fontSize: '14px', margin: '8px 0 0 0', opacity: 0.75 }}>{expenses.length} transactions</p>
              </div>

              <div style={{
                background: 'linear-gradient(135deg, #10b981 0%, #059669 100%)',
                borderRadius: '16px',
                boxShadow: '0 10px 15px rgba(0,0,0,0.1)',
                padding: '24px',
                color: 'white'
              }}>
                <div style={{ display: 'flex', justifyContent: 'space-between', alignItems: 'center', marginBottom: '8px' }}>
                  <p style={{ fontSize: '14px', margin: 0, opacity: 0.9 }}>Average per Day</p>
                  <TrendingUp />
                </div>
                <p style={{ fontSize: '36px', fontWeight: 'bold', margin: 0 }}>${(totalExpenses / 30).toFixed(2)}</p>
                <p style={{ fontSize: '14px', margin: '8px 0 0 0', opacity: 0.75 }}>Based on 30 days</p>
              </div>

              <div style={{
                background: 'linear-gradient(135deg, #f97316 0%, #dc2626 100%)',
                borderRadius: '16px',
                boxShadow: '0 10px 15px rgba(0,0,0,0.1)',
                padding: '24px',
                color: 'white'
              }}>
                <div style={{ display: 'flex', justifyContent: 'space-between', alignItems: 'center', marginBottom: '8px' }}>
                  <p style={{ fontSize: '14px', margin: 0, opacity: 0.9 }}>Top Category</p>
                  <PieChart />
                </div>
                <p style={{ fontSize: '36px', fontWeight: 'bold', margin: 0 }}>
                  {highestCategory ? highestCategory[0] : 'N/A'}
                </p>
                <p style={{ fontSize: '14px', margin: '8px 0 0 0', opacity: 0.75 }}>
                  {highestCategory ? `$${highestCategory[1].toFixed(2)}` : '$0.00'}
                </p>
              </div>
            </div>

            <div style={{
              backgroundColor: 'white',
              borderRadius: '16px',
              boxShadow: '0 10px 15px rgba(0,0,0,0.1)',
              padding: '24px',
              marginBottom: '24px'
            }}>
              <h2 style={{ fontSize: '20px', fontWeight: 'bold', color: '#1f2937', marginBottom: '16px' }}>
                Category Breakdown
              </h2>
              <div style={{
                display: 'grid',
                gridTemplateColumns: 'repeat(auto-fit, minmax(150px, 1fr))',
                gap: '16px'
              }}>
                {categories.map(cat => (
                  <CategoryCard
                    key={cat}
                    category={cat}
                    amount={categoryTotals[cat]}
                    total={totalExpenses}
                  />
                ))}
              </div>
            </div>

            <div style={{ display: 'grid', gridTemplateColumns: window.innerWidth > 768 ? '1fr 2fr' : '1fr', gap: '24px' }}>
              
              <div style={{
                backgroundColor: 'white',
                borderRadius: '16px',
                boxShadow: '0 10px 15px rgba(0,0,0,0.1)',
                padding: '24px'
              }}>
                <h2 style={{ fontSize: '20px', fontWeight: 'bold', color: '#1f2937', marginBottom: '16px' }}>
                  Add Expense
                </h2>
                
                <div style={{ display: 'flex', flexDirection: 'column', gap: '16px' }}>
                  <div>
                    <label style={{ display: 'block', fontSize: '14px', fontWeight: '500', color: '#374151', marginBottom: '8px' }}>
                      Description
                    </label>
                    <input
                      type="text"
                      value={description}
                      onChange={(e) => setDescription(e.target.value)}
                      placeholder="e.g., Coffee at Starbucks"
                      style={{
                        width: '100%',
                        border: '2px solid #d1d5db',
                        borderRadius: '8px',
                        padding: '8px 16px',
                        fontSize: '14px'
                      }}
                    />
                  </div>

                  <div>
                    <label style={{ display: 'block', fontSize: '14px', fontWeight: '500', color: '#374151', marginBottom: '8px' }}>
                      Amount ($)
                    </label>
                    <input
                      type="number"
                      value={amount}
                      onChange={(e) => setAmount(e.target.value)}
                      placeholder="0.00"
                      step="0.01"
                      min="0"
                      style={{
                        width: '100%',
                        border: '2px solid #d1d5db',
                        borderRadius: '8px',
                        padding: '8px 16px',
                        fontSize: '14px'
                      }}
                    />
                  </div>

                  <div>
                    <label style={{ display: 'block', fontSize: '14px', fontWeight: '500', color: '#374151', marginBottom: '8px' }}>
                      Category
                    </label>
                    <select
                      value={category}
                      onChange={(e) => setCategory(e.target.value)}
                      style={{
                        width: '100%',
                        border: '2px solid #d1d5db',
                        borderRadius: '8px',
                        padding: '8px 16px',
                        fontSize: '14px'
                      }}
                    >
                      {categories.map(cat => (
                        <option key={cat} value={cat}>{cat}</option>
                      ))}
                    </select>
                  </div>

                  <div>
                    <label style={{ display: 'block', fontSize: '14px', fontWeight: '500', color: '#374151', marginBottom: '8px' }}>
                      Date
                    </label>
                    <input
                      type="date"
                      value={date}
                      onChange={(e) => setDate(e.target.value)}
                      style={{
                        width: '100%',
                        border: '2px solid #d1d5db',
                        borderRadius: '8px',
                        padding: '8px 16px',
                        fontSize: '14px'
                      }}
                    />
                  </div>

                  <button
                    onClick={addExpense}
                    style={{
                      width: '100%',
                      backgroundColor: '#4f46e5',
                      color: 'white',
                      fontWeight: '600',
                      padding: '12px',
                      borderRadius: '8px',
                      border: 'none',
                      cursor: 'pointer',
                      fontSize: '14px'
                    }}
                  >
                    Add Expense
                  </button>
                </div>
              </div>

              <div style={{
                backgroundColor: 'white',
                borderRadius: '16px',
                boxShadow: '0 10px 15px rgba(0,0,0,0.1)',
                padding: '24px'
              }}>
                <div style={{ display: 'flex', justifyContent: 'space-between', alignItems: 'center', marginBottom: '16px', flexWrap: 'wrap', gap: '12px' }}>
                  <h2 style={{ fontSize: '20px', fontWeight: 'bold', color: '#1f2937', margin: 0 }}>
                    Recent Expenses
                  </h2>
                  <select
                    value={filterCategory}
                    onChange={(e) => setFilterCategory(e.target.value)}
                    style={{
                      border: '2px solid #d1d5db',
                      borderRadius: '8px',
                      padding: '8px 12px',
                      fontSize: '14px'
                    }}
                  >
                    <option value="All">All Categories</option>
                    {categories.map(cat => (
                      <option key={cat} value={cat}>{cat}</option>
                    ))}
                  </select>
                </div>

                {filteredExpenses.length === 0 ? (
                  <p style={{ textAlign: 'center', color: '#6b7280', padding: '48px 0' }}>
                    No expenses yet! Add one to get started üìä
                  </p>
                ) : (
                  <div style={{ maxHeight: '600px', overflowY: 'auto' }}>
                    {filteredExpenses.map(expense => (
                      <ExpenseItem
                        key={expense.id}
                        expense={expense}
                        onDelete={deleteExpense}
                      />
                    ))}
                  </div>
                )}
              </div>
            </div>

          </div>
        </div>
      );
    }

    ReactDOM.render(<ExpenseTracker />, document.getElementById('root'));
  </script>
</body>
</html>
